DEBUG 2008-03-12 11:29:24,051 [Channel.cpp:168] (mqs.channel)  - adding incoming queue: tests.xbe.queue?type=queue
DEBUG 2008-03-12 11:29:24,054 [Channel.cpp:416] (mqs.channel)  - waiting for new messages
DEBUG 2008-03-12 11:29:24,104 [Channel.cpp:422] (mqs.channel)  - message waiting timed out
DEBUG 2008-03-12 11:29:24,112 [Channel.cpp:366] (mqs.channel)  - got new message: f454a353-8913-47e9-9d42-1cfec1ed69fb:0:0:0
DEBUG 2008-03-12 11:29:24,112 [Channel.cpp:394] (mqs.channel)  - dispatching message to message listener
DEBUG 2008-03-12 11:29:24,112 [EventFactory.cpp:32] (xbe.eventFactory)  - msg has reply-to: false
DEBUG 2008-03-12 11:29:24,112 [EventFactory.cpp:33] (xbe.eventFactory)  - msg has dst: true
DEBUG 2008-03-12 11:29:24,113 [Channel.cpp:239] (mqs.channel)  - sent message id:f454a353-8913-47e9-9d42-1cfec1ed69fb:0:0:0 mode:persistent prio:4 ttl:0 corr: type:
INFO  2008-03-12 11:29:24,114 [ChannelEventQueueAdapterTest.cpp:47] (tests.xbe.channeladapter)  - waiting at most 2s for message arival
DEBUG 2008-03-12 11:29:24,114 [StageWorker.cpp:12] (seda.stage.net.worker.0)  - got work
DEBUG 2008-03-12 11:29:24,114 [StageWorker.cpp:14] (seda.stage.net.worker.0)  - done
DEBUG 2008-03-12 11:29:24,616 [StageWorker.cpp:25] (seda.stage.net.worker.0)  - terminating
DEBUG 2008-03-12 11:29:24,661 [Channel.cpp:168] (mqs.channel)  - adding incoming queue: tests.xbe.queue?type=queue
DEBUG 2008-03-12 11:29:24,664 [Channel.cpp:416] (mqs.channel)  - waiting for new messages
DEBUG 2008-03-12 11:29:24,716 [Channel.cpp:422] (mqs.channel)  - message waiting timed out
DEBUG 2008-03-12 11:29:24,718 [Channel.cpp:239] (mqs.channel)  - sent message id:c21a611d-c96b-4503-a9cf-bdeb34033bfb:0:0:0 mode:persistent prio:4 ttl:0 corr: type:
INFO  2008-03-12 11:29:24,718 [ChannelEventQueueAdapterTest.cpp:75] (tests.xbe.channeladapter)  - waiting at most 1s for message arival
DEBUG 2008-03-12 11:29:24,718 [Channel.cpp:366] (mqs.channel)  - got new message: c21a611d-c96b-4503-a9cf-bdeb34033bfb:0:0:0
DEBUG 2008-03-12 11:29:24,718 [Channel.cpp:394] (mqs.channel)  - dispatching message to message listener
DEBUG 2008-03-12 11:29:24,718 [ChannelEventQueueAdapter.cpp:19] (seda.queue.channeladapter)  - cms::Message could not be converted to Event: cannot transform generic cms::Message into event
DEBUG 2008-03-12 11:29:26,224 [StageWorker.cpp:25] (seda.stage.net.worker.0)  - terminating
DEBUG 2008-03-12 11:29:26,269 [Channel.cpp:168] (mqs.channel)  - adding incoming queue: tests.xbe.queue?type=queue
DEBUG 2008-03-12 11:29:26,272 [Channel.cpp:416] (mqs.channel)  - waiting for new messages
DEBUG 2008-03-12 11:29:26,324 [Channel.cpp:422] (mqs.channel)  - message waiting timed out
DEBUG 2008-03-12 11:29:26,325 [ChannelEventQueueAdapter.cpp:43] (seda.queue.channeladapter)  - sending message `testSendViaStageMessage'
DEBUG 2008-03-12 11:29:26,326 [Channel.cpp:366] (mqs.channel)  - got new message: 4dd04532-c79f-4eed-abf3-036751ff75be:0:0:0
DEBUG 2008-03-12 11:29:26,326 [Channel.cpp:394] (mqs.channel)  - dispatching message to message listener
DEBUG 2008-03-12 11:29:26,326 [EventFactory.cpp:32] (xbe.eventFactory)  - msg has reply-to: false
DEBUG 2008-03-12 11:29:26,326 [EventFactory.cpp:33] (xbe.eventFactory)  - msg has dst: true
DEBUG 2008-03-12 11:29:26,327 [Channel.cpp:239] (mqs.channel)  - sent message id:4dd04532-c79f-4eed-abf3-036751ff75be:0:0:0 mode:persistent prio:4 ttl:0 corr: type:
INFO  2008-03-12 11:29:26,327 [ChannelEventQueueAdapterTest.cpp:103] (tests.xbe.channeladapter)  - waiting at most 2s for message arival
DEBUG 2008-03-12 11:29:26,327 [StageWorker.cpp:12] (seda.stage.net.worker.0)  - got work
DEBUG 2008-03-12 11:29:26,327 [StageWorker.cpp:14] (seda.stage.net.worker.0)  - done
DEBUG 2008-03-12 11:29:26,327 [StageWorker.cpp:25] (seda.stage.net.worker.0)  - terminating
DEBUG 2008-03-12 11:29:26,369 [Channel.cpp:168] (mqs.channel)  - adding incoming queue: tests.xbe.queue?type=queue
DEBUG 2008-03-12 11:29:26,372 [Channel.cpp:416] (mqs.channel)  - waiting for new messages
DEBUG 2008-03-12 11:29:26,424 [Channel.cpp:422] (mqs.channel)  - message waiting timed out
INFO  2008-03-12 11:29:26,424 [ChannelEventQueueAdapter.cpp:51] (seda.queue.channeladapter)  - ignoring non-MessageEvent:testSendViaStageNoneMessage
DEBUG 2008-03-12 11:29:26,928 [StageWorker.cpp:25] (seda.stage.net.worker.0)  - terminating
DEBUG 2008-03-12 11:29:26,935 [XMLEncodeDecodeTest.cpp:55] (tests.xbe.xml-endecode)  - sending XML message
DEBUG 2008-03-12 11:29:26,935 [StageWorker.cpp:12] (seda.stage.final.worker.0)  - got work
DEBUG 2008-03-12 11:29:26,936 [ForwardStrategy.cpp:7] (seda.strategy.fwd-to-final)  - forwarding event to stage `final'
DEBUG 2008-03-12 11:29:26,936 [StageWorker.cpp:14] (seda.stage.final.worker.0)  - done
DEBUG 2008-03-12 11:29:26,936 [StageWorker.cpp:12] (seda.stage.final.worker.0)  - got work
DEBUG 2008-03-12 11:29:26,936 [../../seda/LoggingStrategy.hpp:16] (seda.strategy.discard.count.logging)  - Message : unknown ---> unknown: <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
<xbe:message xmlns:xbe="http://www.xenbee.net/schema/2008/02/xbe" protocol-version="1" xmlns:dsig="http://www.w3.org/2000/09/xmldsig#" xmlns:jsdl="http://schemas.ggf.org/jsdl/2005/11/jsdl" xmlns:jsdl-posix="http://schemas.ggf.org/jsdl/2005/11/jsdl-posix" xmlns:xenc="http://www.w3.org/2001/04/xmlenc#">

  <xbe:header>
    <xbe:from>tests.xbe.foo.bar</xbe:from>
    <xbe:to>tests.xbe.foo.bar</xbe:to>
  </xbe:header>

  <xbe:body>
    <xbe:error>
      <xbe:error-code>ENOERROR</xbe:error-code>
    </xbe:error>
  </xbe:body>

</xbe:message>

DEBUG 2008-03-12 11:29:26,936 [StageWorker.cpp:14] (seda.stage.final.worker.0)  - done
DEBUG 2008-03-12 11:29:27,941 [StageWorker.cpp:25] (seda.stage.final.worker.0)  - terminating
DEBUG 2008-03-12 11:29:28,444 [StageWorker.cpp:25] (seda.stage.final.worker.0)  - terminating
DEBUG 2008-03-12 11:29:28,453 [XMLSecurityTest.cpp:119] (tests.xbe.xml-security)  - <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
<xbe:message xmlns:xbe="http://www.xenbee.net/schema/2008/02/xbe" protocol-version="1" xmlns:dsig="http://www.w3.org/2000/09/xmldsig#" xmlns:jsdl="http://schemas.ggf.org/jsdl/2005/11/jsdl" xmlns:jsdl-posix="http://schemas.ggf.org/jsdl/2005/11/jsdl-posix" xmlns:xenc="http://www.w3.org/2001/04/xmlenc#">

  <xbe:header>
    <xbe:from>tests.xbe.foo.bar</xbe:from>
    <xbe:to>tests.xbe.foo.bar</xbe:to>
    <dsig:Signature>
      <dsig:SignedInfo>
        <dsig:CanonicalizationMethod Algorithm="http://www.w3.org/2001/10/xml-exc-c14n#"/>
        <dsig:SignatureMethod Algorithm="http://www.w3.org/2000/09/xmldsig#hmac-sha1"/>
        <dsig:Reference URI="">
          <dsig:Transforms>
            <dsig:Transform Algorithm="http://www.w3.org/2000/09/xmldsig#enveloped-signature"/>
          </dsig:Transforms>
          <dsig:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"/>
          <dsig:DigestValue>6gEokD/uXFJHZdGdup83UEJAL7U=
</dsig:DigestValue>
        </dsig:Reference>
      </dsig:SignedInfo>
      <dsig:SignatureValue>8UizG7USy0pRfd81kfHsG0AbzHc=
</dsig:SignatureValue>
      <dsig:KeyInfo>
        <dsig:KeyName>The secret key is "secret"</dsig:KeyName>
      </dsig:KeyInfo>
    </dsig:Signature>
  </xbe:header>

  <xbe:body>
    <xbe:error>
      <xbe:error-code>ENOERROR</xbe:error-code>
    </xbe:error>
  </xbe:body>

</xbe:message>

DEBUG 2008-03-12 11:29:33,059 [XMLSecurityTest.cpp:208] (tests.xbe.xml-security)  - body element encrypted
DEBUG 2008-03-12 11:29:33,059 [XMLSecurityTest.cpp:238] (tests.xbe.xml-security)  - encrypted message created
DEBUG 2008-03-12 11:29:33,059 [XMLSecurityTest.cpp:243] (tests.xbe.xml-security)  - serialized
DEBUG 2008-03-12 11:29:33,059 [XMLSecurityTest.cpp:244] (tests.xbe.xml-security)  - <?xml version="1.0" encoding="UTF-8" standalone="no" ?>
<xbe:message xmlns:xbe="http://www.xenbee.net/schema/2008/02/xbe" protocol-version="1" xmlns:dsig="http://www.w3.org/2000/09/xmldsig#" xmlns:jsdl="http://schemas.ggf.org/jsdl/2005/11/jsdl" xmlns:jsdl-posix="http://schemas.ggf.org/jsdl/2005/11/jsdl-posix" xmlns:xenc="http://www.w3.org/2001/04/xmlenc#">

  <xbe:header>
    <xbe:from>tests.xbe.foo.bar</xbe:from>
    <xbe:to>tests.xbe.foo.bar</xbe:to>
  </xbe:header>

  <xbe:body>
    <xenc:EncryptedData Type="http://www.w3.org/2001/04/xmlenc#Element">
      <xenc:EncryptionMethod Algorithm="http://www.w3.org/2001/04/xmlenc#tripledes-cbc"/>
      <xenc:CipherData>
        <xenc:CipherValue>+iIf27SNEiXZf8aAoFzmp1cHdnvm1YPTN0/Yk8vls+sfD8sgp0DqhBhHukLt
gZRFx6ob0BesPR5Zp4vrRtJ87tJv82TD/OFwHHHS8STKJiF9DAdDJhr6pUWx
ZbdFlXB+tcop9I2ZFiI7CwbU18rULGRlth/OEeSAGUyopt2ZqOmn4v/w0AdK
LvT43FfKcJpH7MU+L6ei32A=
</xenc:CipherValue>
      </xenc:CipherData>
    </xenc:EncryptedData>
  </xbe:body>

</xbe:message>

DEBUG 2008-03-12 11:29:33,064 [XMLSecurityLibraryTest.cpp:282] (tests.xbe.xml-security-library)  - the message is valid!
DEBUG 2008-03-12 11:29:33,065 [XMLSecurityLibraryTest.cpp:288] (tests.xbe.xml-security-library)  - setting up parser
DEBUG 2008-03-12 11:29:33,066 [XMLSecurityLibraryTest.cpp:298] (tests.xbe.xml-security-library)  - parsed: sig-test-5.xml
DEBUG 2008-03-12 11:29:33,066 [XMLSecurityLibraryTest.cpp:307] (tests.xbe.xml-security-library)  - loading signature
DEBUG 2008-03-12 11:29:33,066 [XMLSecurityLibraryTest.cpp:315] (tests.xbe.xml-security-library)  - verifying signature
DEBUG 2008-03-12 11:29:33,067 [XMLSecurityLibraryTest.cpp:325] (tests.xbe.xml-security-library)  - message is valid
