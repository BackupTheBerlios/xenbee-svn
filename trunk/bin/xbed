#!/usr/bin/env python
"""
The Xen Based Execution Environment managing daemon
"""

__version__ = "$Rev: $"
__author__ = "$Author: $"

import os, os.path

# Twisted imports
from twisted.internet import reactor
from xenbeed.proto import XenBEEProtocol, XenBEEProtocolFactory


def main():
    # listen on the unix socket
    #	f = Factory()
    #	f.protocol = XenBEEProtocol
    #	reactor.listenUNIX("/var/lib/xenbeed/xenbeed-socket", f, 10)
    #	reactor.listenTCP(1234, f)

    # connect to stomp server
    reactor.connectTCP( 'localhost', 61613, XenBEEProtocolFactory(queue="/queue/xenbee/daemon"))
    reactor.run()
    
if __name__ == "__main__":
    main()
